{% extends "layout.html" %}

{% block body %}


<div class="container">
    <div class="row" id="address-input">
        <div class="col col-md-4">
            <form class="form-inline" action="/" method="post">
                <label class="sr-only" for="address">Name</label>
                <input required type="text" class="form-control " id="address" name="address"
                       placeholder="Please supply an address">
                <button type="submit" class="btn btn-primary">Submit</button>
            </form>


            {%if message %}
            <div class="col alert alert-danger" role="alert">
              <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
              <span class="sr-only">Error:</span>
              {{message|safe}}
            </div>
            {%endif%}


        </div>
        {% if origin %}
        <div class="col col-md-6 content alert alert-success">
            Given address: <strong>{{ origin['given_address'] }} </strong><br>
                Fromatted address: <strong>{{ origin['formatted_address'] }} </strong>
            Geocoordinates: <strong>{{origin['latitude'], origin['longitude']}}</strong>
            </div>
        {% endif %}
        </div>

    {% if destinations %}

    <div class="row results-table">
        <table id="example" class="table table-striped table-bordered">
            <thead>
            <tr>
                <td>Name</td>
                <td>Run</td>
                <td>Type</td>
                <td>Duration (no traffic)</td>
                <td>Duration (rush hour)</td>
                <td>Distance (km)</td>
                <td>Overall</td>

            </tr>
            </thead>

            <tbody>
            {% for destination in destinations %}
            <tr>
                <td class="name">{{destination['Name']}}</td>
                <td class="run">{{destination['Run']}}</td>
                <td class="type">{{destination['Type']}}</td>
                <td class="duration_no_traffic">{{destination['duration no traffic']}}</td>
                <td class="duration_with_traffic">{{destination['duration with traffic']}}</td>
                <td class="drive_distance">{{destination['drive_distance']}}</td>
                <td class="drive_distance">{{destination['overall']}}</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

    {% endif %}
</div>
{% endblock %}